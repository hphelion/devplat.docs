<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="upservicesadminmessage">
  <title>
    HPE Helion 2.0 Development Platform: Messaging Integration for Administrators</title><abstract><shortdesc outputclass="hdphidden">Connect messaging clusters to ALS clusters to support
      service creation and application binding.</shortdesc>These steps are intended for
    administrators who support development by creating and preparing messaging clusters. These
    administrative procedures must be completed before developers can <xref
      href="up_services_dev_message.dita">create and bind custom messaging services</xref>.<note>For
      single instance connectivity and usage, refer to the <xref
        href="../../../2.0/messaging/devplatform.using-messaging-service-with-ALS.dita">using the Messaging Service with
        the Application Lifecycle Service</xref> documentation. </note></abstract>
  <body>
<section><title>Administrator procedure for a cluster</title>
      <ol id="ol_ld1_q4f_55">
        <li>Create a cluster<p>
            <ul id="ul_p21_bwn_55">
              <li>Create a Message Broker RabbitMQ Cluster <xref
                  href="../../../2.0/messaging/devplatform.using-the-messaging-service.dita">using
                  the UI</xref> or <xref href="../../../2.0/messaging/cue_dev_createCluster.dita"
                  >the command line</xref>. </li>
              <li>Configure using 1, 3 or 5 nodes. </li>
              <li>Make note of the username and password values as you will need them in following
                steps. </li>
              <li>If you need to make changes later, see the documentation on how to <xref
                  href="../../../2.0/messaging/cue_ops_manageCluster.dita">manage a RabbitMQ
                  cluster</xref>.</li>
            </ul>
          </p></li>
        <li>Configure HA Proxy<p>
            <ul id="ul_d23_bwn_55">
              <li>
                <xref href="../../../2.0/messaging/cue_ops_loadBalancer.dita">Configure HA proxy for
                  the RabbitMQ cluster nodes</xref>. This will provide a virtual IP address.</li>
            </ul>
          </p></li>
        <li> Configure ALS cluster for connectivity.<ul id="ul_ipv_bwn_55">
            <li>
              <p><xref
                  href="http://docs.hpcloud.com/devplatform/2.0/helion/admin/server/configuration.html#topic31232__container_allowed"
                  format="html" scope="external">Configure the ALS cluster hosts and ports for
                  access</xref> to the target RabbitMQ cluster.</p>
            </li>
            <li>
              <p>On the ALS cluster, open access on port 5672 for:<ul id="ul_ryt_kpz_w5">
                  <li>the virtual IP address of the RabbitMQ cluster</li>
                  <li>the HA proxy VM</li>
                  <li><i>each</i> RabbitMQ node in the cluster</li>
                </ul></p>
            </li>
          </ul></li>
        <li>Provide the RabbitMQ connection information to the app developers including:<ul
            id="ul_ozt_jwn_55">
            <li>Cluster name</li>
            <li>HA Proxy IP address for the RabbitMQ cluster, and port number 5672</li>
            <li>Username and password</li>
          </ul>See the complete documentation on <xref
            href="../../../2.0/messaging/devplatform.using-messaging-service-with-ALS.dita"
            scope="peer">using the messaging broker Service with ALS</xref> for more information.
            <note>The Connection string will be in the format:
            <codeblock>amqp://&lt;username&gt;:&lt;password&gt;@&lt;hostname&gt;:5672/</codeblock>
          </note></li>
      </ol>

</section>
  </body>
</topic>
